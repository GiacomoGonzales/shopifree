<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Mobile Map - Shopifree</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        .test-map {
            width: 100%;
            height: 300px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
        }
        .debug-info {
            margin-top: 20px;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 6px;
            font-size: 12px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h2>üó∫Ô∏è Test de Mapa M√≥vil</h2>
        
        <div class="test-info">
            <strong>Informaci√≥n del dispositivo:</strong><br>
            <span id="device-info">Cargando...</span>
        </div>
        
        <div class="test-map" id="test-map">
            üîÑ Inicializando mapa de prueba...
        </div>
        
        <div class="debug-info" id="debug-info">
            Informaci√≥n de debug aparecer√° aqu√≠...
        </div>
    </div>

    <script>
        // Detectar informaci√≥n del dispositivo
        function getDeviceInfo() {
            const info = {
                userAgent: navigator.userAgent,
                screenWidth: window.innerWidth,
                screenHeight: window.innerHeight,
                isMobile: window.innerWidth <= 768,
                isTouchDevice: 'ontouchstart' in window,
                connection: navigator.connection?.effectiveType || 'unknown',
                onLine: navigator.onLine,
                language: navigator.language,
                platform: navigator.platform
            };
            
            document.getElementById('device-info').innerHTML = `
                Ancho: ${info.screenWidth}px<br>
                M√≥vil: ${info.isMobile ? 'S√≠' : 'No'}<br>
                T√°ctil: ${info.isTouchDevice ? 'S√≠' : 'No'}<br>
                Conexi√≥n: ${info.connection}<br>
                En l√≠nea: ${info.onLine ? 'S√≠' : 'No'}
            `;
            
            return info;
        }
        
        // Simular carga de Google Maps
        function testGoogleMapsLoad() {
            const deviceInfo = getDeviceInfo();
            const debugDiv = document.getElementById('debug-info');
            const mapDiv = document.getElementById('test-map');
            
            debugDiv.innerHTML = `
                <strong>Test iniciado:</strong> ${new Date().toLocaleTimeString()}<br>
                <strong>Dispositivo m√≥vil:</strong> ${deviceInfo.isMobile}<br>
                <strong>User Agent:</strong> ${deviceInfo.userAgent}<br><br>
                <strong>Simulando carga de Google Maps...</strong>
            `;
            
            // Simular diferentes escenarios
            setTimeout(() => {
                if (deviceInfo.isMobile) {
                    if (deviceInfo.onLine) {
                        mapDiv.innerHTML = `
                            <div style="text-align: center;">
                                <div style="font-size: 24px; margin-bottom: 10px;">‚úÖ</div>
                                <div><strong>Mapa cargado correctamente</strong></div>
                                <small>Simulaci√≥n en dispositivo m√≥vil</small>
                            </div>
                        `;
                        debugDiv.innerHTML += `<br><strong>‚úÖ Resultado:</strong> Mapa cargado exitosamente en m√≥vil`;
                    } else {
                        mapDiv.innerHTML = `
                            <div style="text-align: center; color: #c62828;">
                                <div style="font-size: 24px; margin-bottom: 10px;">‚ö†Ô∏è</div>
                                <div><strong>Sin conexi√≥n</strong></div>
                                <small>Verifica tu conexi√≥n a internet</small>
                            </div>
                        `;
                        debugDiv.innerHTML += `<br><strong>‚ö†Ô∏è Resultado:</strong> Sin conexi√≥n a internet`;
                    }
                } else {
                    mapDiv.innerHTML = `
                        <div style="text-align: center;">
                            <div style="font-size: 24px; margin-bottom: 10px;">üñ•Ô∏è</div>
                            <div><strong>Dispositivo de escritorio</strong></div>
                            <small>El mapa deber√≠a funcionar normalmente</small>
                        </div>
                    `;
                    debugDiv.innerHTML += `<br><strong>‚ÑπÔ∏è Resultado:</strong> Dispositivo de escritorio detectado`;
                }
            }, 2000);
        }
        
        // Ejecutar test al cargar la p√°gina
        window.addEventListener('load', testGoogleMapsLoad);
    </script>
</body>
</html>
